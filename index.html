<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ‚Ÿç©ºçš„ä¿¡æ¯å“¨å…µ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        body { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 antialiased">
    <header class="sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-50">
        <div class="max-w-xl mx-auto p-4">
            <h1 class="text-xl font-bold mb-4 text-center flex justify-center items-center gap-2">
                <span>ğŸ›¡ï¸</span> æ‚Ÿç©ºçš„ä¿¡æ¯å“¨å…µ
            </h1>
            <div id="filter-company" class="flex gap-2 overflow-x-auto pb-1 no-scrollbar text-sm">
                </div>
        </div>
    </header>

    <main id="app" class="max-w-xl mx-auto p-4">
        <div class="text-center py-20 text-gray-400 animate-pulse">
            æ­£åœ¨åŒæ­¥è¿‘ä¸€å‘¨æƒ…æŠ¥...
        </div>
    </main>

    <script>
        let rawData = [];
        const todayStr = new Date().toISOString().split('T')[0];

        async function loadData() {
            try {
                // è¯»å–æ•°æ®å¹¶å¢åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜
                const res = await fetch('./data.json?t=' + new Date().getTime());
                rawData = await res.json();
                
                if (!rawData || rawData.length === 0) {
                    document.getElementById('app').innerHTML = '<div class="text-center py-20 text-gray-400">å“¨å…µå·¡é€»ä¸­ï¼Œæš‚æ— è¿‘ä¸€å‘¨åŠ¨æ€</div>';
                    return;
                }

                renderFilters();
                renderItems(rawData);
            } catch (e) {
                document.getElementById('app').innerHTML = '<div class="text-center py-20 text-red-400">æƒ…æŠ¥è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æº</div>';
            }
        }

        function renderFilters() {
            const cos = ['å…¨éƒ¨', ...new Set(rawData.map(d => d.company))];
            const container = document.getElementById('filter-company');
            container.innerHTML = cos.map(c => `
                <button onclick="filterBy('${c}', this)" class="filter-btn whitespace-nowrap px-4 py-1.5 bg-gray-100 rounded-full transition-all border border-transparent">
                    ${c}
                </button>
            `).join('');
            // é»˜è®¤é«˜äº®â€œå…¨éƒ¨â€
            container.querySelector('button').classList.add('bg-blue-600', 'text-white');
        }

        function renderItems(data) {
            const container = document.getElementById('app');
            
            // æŒ‰æ—¥æœŸåˆ†ç»„é€»è¾‘
            const groups = {};
            data.forEach(item => {
                if (!groups[item.date]) groups[item.date] = [];
                groups[item.date].push(item);
            });

            // è·å–æ’åºåçš„æ—¥æœŸ
            const sortedDates = Object.keys(groups).sort().reverse();

            container.innerHTML = sortedDates.map(date => `
                <div class="mb-8">
                    <div class="flex items-center mb-4 text-gray-400">
                        <div class="h-px bg-gray-200 flex-grow"></div>
                        <span class="px-3 text-[12px] font-bold tracking-widest uppercase">
                            ${date === todayStr ? '
